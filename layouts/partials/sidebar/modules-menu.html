{{ $currentPage := . -}}
{{ range .Site.Menus.modules -}}
  <h3>{{ .Name }}</h3>
  {{ if .HasChildren -}}
  <ul class="list-unstyled">
    {{ range .Children.ByWeight.Reverse -}}
      {{- $active := or ($currentPage.IsMenuCurrent "modules" .) ($currentPage.HasMenuCurrent "modules" .) -}}
      {{- $active = or $active (eq .Name $currentPage.Title) -}}
      <li><a class="docs-link{{ if $active }} active{{ end }}" href="{{ .URL | relURL }}">{{ .Name }}</a></li>
    {{ end -}}
  </ul>
  {{ end -}}
{{ end -}}


{{ $currentPage := . -}}

<h3>Browse</h3>
<ul class="list-unstyled">
  {{ $active := or (eq $currentPage.Title "Showcase") (eq .Type "modules") -}}
  <li><a class="docs-link d-flex{{ if $active }} active{{ end }}" href="/modules/"><span>All modules</span><span class="badge bg-light text-dark fw-normal ms-auto me-lg-4">{{ len (where .Site.RegularPages "Section" "==" "modules") }}</span></a></li>
</ul>

<h3>Categories</h3>
<ul class="list-unstyled">
  {{ range .Site.Taxonomies.categories }}
    {{ $active := eq .Page.Title $currentPage.Title -}}
    <li><a class="docs-link d-flex{{ if $active }} active{{ end }}" href="{{ .Page.Permalink }}"><span>{{ .Page.Title | title }}</span><span class="badge bg-light text-dark fw-normal ms-auto me-lg-4">{{ .Count }}</span></a></li>
  {{ end }}
</ul>

<h3>Functionalities</h3>
<ul class="list-unstyled">
  {{ range .Site.Taxonomies.functionalities }}
    {{ $active := eq .Page.Title $currentPage.Title -}}
    <li><a class="docs-link d-flex{{ if $active }} active{{ end }}" href="{{ .Page.Permalink }}"><span>{{ .Page.Title | title }}</span><span class="badge bg-light text-dark fw-normal ms-auto me-lg-4">{{ .Count }}</span></a></li>
  {{ end }}
</ul>



<!--
<h3 class="sidebar-link"><a href="https://github.com/h-enk/doks/discussions?discussions_q=category%3A%22Show+and+tell%22">Submit to Showcase â†’</a></h3>
-->
